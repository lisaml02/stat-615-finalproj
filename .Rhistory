knitr::opts_chunk$set(echo = TRUE)
niger <- read_csv("./NigerData.csv")
library(tidyverse)
library(broom)
library(GGally)
niger <- read_csv("./NigerData.csv")
glimpse(niger)
niger %>%
select(age, any_edu, fac_delivery, wealth, q910, q501, q503, q505a, q506b, q507, q508, q901, q902, q903a, q903b, q904a, q904b, q905, q906, q802, q804, q805, q808, q410, q208) %>%
filter(q508 == 1 | q508 == 3 | q508 == 4) %>%
rename(nutrition = q910,
know_1 = q501,
know_2 = q901,
know_3 = q902,
att_1 = q505a,
att_2 = q903b,
att_3 = q903a,
se_1 = q506b,
se_2 = q904a,
se_3 = q904b,
pn_1 = q503,
pn_2 = q905,
pn_3 = q906)
niger %>%
select(age, any_edu, fac_delivery, wealth, q910, q501, q503, q505a, q506b, q507, q901, q902, q903a, q903b, q904a, q904b, q905, q906, q802, q804, q805, q808, q410, q208) %>%
filter(q508 == 1 | q508 == 3 | q508 == 4) %>%
rename(nutrition = q910,
know_1 = q501,
know_2 = q901,
know_3 = q902,
att_1 = q505a,
att_2 = q903b,
att_3 = q903a,
se_1 = q506b,
se_2 = q904a,
se_3 = q904b,
pn_1 = q503,
pn_2 = q905,
pn_3 = q906,
exp = q507,
parity = q208,
antenatal = q410,
dec_1 = q802,
dec_2 = q804,
dec_3 = q805,
wg = q808)
niger %>%
select(age, any_edu, fac_delivery, wealth, q910, q501, q503, q505a, q506b, q507, q901, q902, q903a, q903b, q904a, q904b, q905, q906, q802, q804, q805, q808, q410, q208) %>%
rename(nutrition = q910,
know_1 = q501,
know_2 = q901,
know_3 = q902,
att_1 = q505a,
att_2 = q903b,
att_3 = q903a,
se_1 = q506b,
se_2 = q904a,
se_3 = q904b,
pn_1 = q503,
pn_2 = q905,
pn_3 = q906,
exp = q507,
parity = q208,
antenatal = q410,
dec_1 = q802,
dec_2 = q804,
dec_3 = q805,
wg = q808)
niger <- niger %>%
select(age, any_edu, fac_delivery, wealth, q910, q501, q503, q505a, q506b, q507, q901, q902, q903a, q903b, q904a, q904b, q905, q906, q802, q804, q805, q808, q410, q208) %>%
rename(nutrition = q910,
know_1 = q501,
know_2 = q901,
know_3 = q902,
att_1 = q505a,
att_2 = q903b,
att_3 = q903a,
se_1 = q506b,
se_2 = q904a,
se_3 = q904b,
pn_1 = q503,
pn_2 = q905,
pn_3 = q906,
exp = q507,
parity = q208,
antenatal = q410,
dec_1 = q802,
dec_2 = q804,
dec_3 = q805,
wg = q808)
niger
niger$age
range(niger$age)
na.omit(niger)
niger <- na.omit(niger)
niger <- na.omit(niger)
niger
range(niger$age)
breaks <- c(14, 24, 39, 49)
labels <- c("15 to 24 years", "25 to 39 years", "35 to 49 years")
niger$age <- cut(niger$age, breaks = breaks, labels = labels, right = FALSE)
breaks <- c(14, 24, 39, 49)
labels <- c("15 to 24 years", "25 to 39 years", "35 to 49 years")
niger$age <- cut(niger$age, breaks = breaks, labels = labels, right = FALSE)
niger
range(niger$parity)
breaks <- c(0, 2, 4, 6, Inf)
labels <- c("1-2 children", "3-4 children", "5-6 children", "7+ children")
niger$parity <- cut(niger$parity, breaks = breaks, labels = labels, right = FALSE))
breaks <- c(0, 2, 4, 6, Inf)
labels <- c("1-2 children", "3-4 children", "5-6 children", "7+ children")
niger$parity <- cut(niger$parity, breaks = breaks, labels = labels, right = FALSE)
niger
niger$wealth <- factor(niger$wealth, levels = c(1, 2, 3), labels = c("poorest", "middle", "richest"))
niger
niger$know_1 <- ifelse(niger$know_1 <= 4, 1, 0)
niger
niger$know_2 <- ifelse(niger$know_2 == 98 | niger$know_2 >= 4, 1, 0)
niger
niger$know_3 <- ifelse(niger$know_3 == 98 | niger$know_3 >= 4, 1, 0)
niger
niger$att_1 <- ifelse(niger$att_1 == 3, 1, 0)
niger
niger$att_2 <- ifelse(niger$att_2 == 3, 1, 0)
niger
niger$att_3 <- ifelse(niger$att_3 == 3, 1, 0)
niger
niger$se_1 <- ifelse(niger$se_1 == 3, 1, 0)
niger
niger$se_2 <- ifelse(niger$se_2 == 3, 1, 0)
niger
niger$se_3 <- ifelse(niger$se_3 == 3, 1, 0)
niger
niger$pn_1 <- ifelse(niger$pn_1 <= 4, 1, 0)
niger
niger$pn_2 <- ifelse(niger$pn_2 == 98 | niger$pn_2 >= 4, 1, 0)
niger
niger$pn_3 <- ifelse(niger$pn_3 == 98 | niger$pn_3 >= 4, 1, 0)
niger
niger <- read_csv("./NigerData.csv")
glimpse(niger)
View(niger)
niger <- niger %>%
select(age, any_edu, fac_delivery, wealth, q910, q501, q503, q505a, q506b, q507, q901, q902, q903a, q903b, q904a, q904b, q905, q906, q802, q804, q805, q808, q414mois_m, q414annee_m, q208) %>%
rename(nutrition = q910,
know_1 = q501,
know_2 = q901,
know_3 = q902,
att_1 = q505a,
att_2 = q903b,
att_3 = q903a,
se_1 = q506b,
se_2 = q904a,
se_3 = q904b,
pn_1 = q503,
pn_2 = q905,
pn_3 = q906,
exp = q507,
parity = q208,
antenatal_m = q414mois_m,
antenatal_y = q414annee_m,
dec_1 = q802,
dec_2 = q804,
dec_3 = q805,
wg = q808)
if ("q414mois_m" %in% names(niger)) {
niger <- niger %>% select(q414mois_m)
} else {
print("Column 'q414mois_m' does not exist.")
}
colnames(niger)
niger <- niger %>%
select(age, any_edu, fac_delivery, wealth, q910, q501, q503, q505a, q506b, q507, q901, q902, q903a, q903b, q904a, q904b, q905, q906, q802, q804, q805, q808, q412mois_m, q412annee_m, q208) %>%
rename(nutrition = q910,
know_1 = q501,
know_2 = q901,
know_3 = q902,
att_1 = q505a,
att_2 = q903b,
att_3 = q903a,
se_1 = q506b,
se_2 = q904a,
se_3 = q904b,
pn_1 = q503,
pn_2 = q905,
pn_3 = q906,
exp = q507,
parity = q208,
antenatal_m = q412mois_m,
antenatal_y = q412annee_m,
dec_1 = q802,
dec_2 = q804,
dec_3 = q805,
wg = q808)
niger
niger <- na.omit(niger)
niger
breaks <- c(14, 24, 39, 49)
labels <- c("15 to 24 years", "25 to 39 years", "35 to 49 years")
niger$age <- cut(niger$age, breaks = breaks, labels = labels, right = FALSE)
niger
breaks <- c(0, 2, 4, 6, Inf)
labels <- c("1-2 children", "3-4 children", "5-6 children", "7+ children")
niger$parity <- cut(niger$parity, breaks = breaks, labels = labels, right = FALSE)
niger
niger$wealth <- factor(niger$wealth, levels = c(1, 2, 3), labels = c("poorest", "middle", "richest"))
niger
niger$know_1 <- ifelse(niger$know_1 <= 4, 1, 0)
niger
niger$know_2 <- ifelse(niger$know_2 == 98 | niger$know_2 >= 4, 1, 0)
niger
niger$know_3 <- ifelse(niger$know_3 == 98 | niger$know_3 >= 4, 1, 0)
niger
niger$know_3 <- ifelse(niger$know_3 == 98 | niger$know_3 >= 4, 1, 0)
niger
niger$att_1 <- ifelse(niger$att_1 == 3, 1, 0)
niger
niger$att_2 <- ifelse(niger$att_2 == 3, 1, 0)
niger
niger$att_3 <- ifelse(niger$att_3 == 3, 1, 0)
niger
niger$se_1 <- ifelse(niger$se_1 == 3, 1, 0)
niger
niger$se_2 <- ifelse(niger$se_2 == 3, 1, 0)
niger
niger$se_3 <- ifelse(niger$se_3 == 3, 1, 0)
niger
niger$pn_1 <- ifelse(niger$pn_1 <= 4, 1, 0)
niger
niger$pn_2 <- ifelse(niger$pn_2 == 98 | niger$pn_2 >= 4, 1, 0)
niger
niger$pn_3 <- ifelse(niger$pn_3 == 98 | niger$pn_3 >= 4, 1, 0)
niger
# Identify women who received antenatal care for their most recent birth
niger <- niger %>%
mutate(
received_antenatal_care = ifelse(
antenatal_m != 98 & antenatal_y != 99,
1, 0
)
)
# Calculate the percentage of women who received antenatal care for their most recent birth
antenatal <- (sum(niger$received_antenatal_care == 1) / nrow(niger)) * 100
niger
antenatal <- (sum(niger$received_antenatal_care == 1) / nrow(niger)) * 100
# Identify women who received antenatal care for their most recent birth
niger <- niger %>%
mutate(
received_antenatal_care = ifelse(
antenatal_m != 98 & antenatal_y != 99,
1, 0
)
)
# Calculate the total number of women who received antenatal care
total_received_antenatal <- sum(niger$received_antenatal_care == 1)
# Calculate the total number of women
total_women <- nrow(niger)
# Calculate the percentage of women who received antenatal care
antenatal <- (total_received_antenatal / total_women) * 100
print(antenatal)
# Create binary variables for each decision field
niger <- niger %>%
mutate(
binary_dec_1 = ifelse(dec_1 == 1 | dec_1 == 3, 1, 0),
binary_dec_2 = ifelse(dec_2 == 1 | dec_2 == 3, 1, 0),
binary_dec_3 = ifelse(dec_3 == 1 | dec_3 == 3, 1, 0)
)
# Create combined binary variable
niger <- niger %>%
mutate(
decision_combined = ifelse(binary_dec_1 == 1 & binary_dec_2 == 1 & binary_dec_3 == 1, 1, 0)
)
niger$wg
niger <- niger %>%
mutate(
wg = ifelse(grepl("[A-I]", wg, ignore.case = TRUE), 1, 0)
)
niger
write.csv(niger, "CLEANNigerData.csv", row.names = FALSE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(broom)
library(GGally)
niger <- read_csv("./CLEANNigerData.csv")
niger
glm_mmf_1 <- (know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + received_antenatal_care, data = niger, family = binomial(link = "logit"))
glm_mmf_1 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + received_antenatal_care,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_1)
ggpairs(niger, know_2, att_2, se_2, pn_2, exp, decision_combined, wg, received_antenatal_care)
ggpairs(niger, know_2, att_2, se_2, pn_2, exp, decision_combined, wg, received_antenatal_care)
ggpairs(data = niger, know_2, att_2, se_2, pn_2, exp, decision_combined, wg, received_antenatal_care)
ggpairs(data = niger, columns = c("know_2", "att_2", "se_2", "pn_2", "exp", "decision_combined", "wg", "received_antenatal_care"))
ggpairs(data = niger,
columns = c("know_2", "att_2", "se_2", "pn_2", "exp", "decision_combined", "wg", "received_antenatal_care"),
progress = "none")
ggpairs(data = niger,
columns = c("know_2", "att_2", "se_2", "pn_2", "exp", "decision_combined", "wg", "received_antenatal_care"),
progress = "none")
suppressMessages(suppressWarnings({
ggpairs(data = niger,
columns = c("know_2", "att_2", "se_2", "pn_2", "exp", "decision_combined", "wg", "received_antenatal_care"))
}))
ggpairs(data = niger,
columns = c("know_2", "att_2", "se_2", "pn_2", "exp", "decision_combined", "wg", "received_antenatal_care"))
glm_mmf_1 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + received_antenatal_care,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_1)
glm_mmf_1 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + received_antenatal_care,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_1, conf.int = TRUE)
glm_mmf_2 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + fac_delivery,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_2, conf.int = TRUE)
glm_mmf_3 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + nutrition,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_2, conf.int = TRUE)
glm_mmf_3 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + nutrition,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_3, conf.int = TRUE)
niger <- as.factor(niger$nutrition)
glm_mmf_3 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + nutrition,
data = niger,
family = binomial(link = "logit"))
library(tidyverse)
library(broom)
library(GGally)
niger <- read_csv("./CLEANNigerData.csv")
niger
niger$nutrition <- as.factor(niger$nutrition)
glm_mmf_3 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + nutrition,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_3, conf.int = TRUE)
niger$nutrition <- relevel(as.factor(niger$nutrition), ref = "4")
glm_mmf_3 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + nutrition,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_3, conf.int = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(broom)
library(ggplot2)
niger <- read_csv("../CLEANNigerData.csv")
library(tidyverse)
library(broom)
library(ggplot2)
niger <- read_csv("./CLEANNigerData.csv")
glm_mmf_1 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + received_antenatal_care,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_1, conf.int = TRUE)
glm_mmf_2 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + fac_delivery,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_2, conf.int = TRUE)
niger$nutrition <- relevel(as.factor(niger$nutrition), ref = "4")
glm_mmf_3 <- glm(know_2 ~ att_2 + se_2 + pn_2 + exp + decision_combined + wg + nutrition,
data = niger,
family = binomial(link = "logit"))
tidy(glm_mmf_3, conf.int = TRUE)
model1 <- glm(se_1 ~ know_1 + att_1 + se_3 + pn_1 + exp + decision_combined + wg + received_antenatal_care + age + parity + any_edu + wealth,
data = niger,
family = binomial)
tidy(model1, conf.int = TRUE)
# OR for model 1
odds_ratios_model1 <- exp(coef(model1))
odds_ratios_model1
summary(model1)
model2 <- glm(se_1 ~ know_1 + att_1 + se_3 + pn_1 + exp + decision_combined + wg + fac_delivery + age + parity + any_edu + wealth,
data = niger,
family = binomial)
tidy(model2, conf.int = TRUE)
# OR for model 2
odds_ratios_model2 <- exp(coef(model2))
odds_ratios_model2
summary(model2)
model_diet_1 <- glm(know_3 ~ know_2 + att_3 + se_3 + pn_3 + wg + decision_combined + exp + received_antenatal_care + age + parity + any_edu + wealth,
data = niger,
family = binomial)
tidy(model_diet_1, conf.int = TRUE)
# OR for model 1
odds_ratios_model_diet_1 <- exp(coef(model_diet_1))
odds_ratios_model_diet_1
summary(odds_ratios_model_diet_1)
model_diet_2 <- glm(know_3 ~ know_2 + att_3 + se_3 + pn_3 + wg + decision_combined + exp + fac_delivery + age + parity + any_edu + wealth,
data = niger,
family = binomial)
tidy(model_diet_2, conf.int = TRUE)
# OR for model 2
odds_ratios_model_diet_2 <- exp(coef(model_diet_2))
odds_ratios_model_diet_2
summary(model_diet_2)
model_diet_3 <- glm(know_3 ~ know_2 + att_3 + se_3 + pn_3 + wg + decision_combined + exp + nutrition + age + parity + any_edu + wealth,
data = niger,
family = binomial)
tidy(model_diet_3, conf.int = TRUE)
# OR for model 3
odds_ratios_model_diet_3 <- exp(coef(model_diet_3))
odds_ratios_model_diet_3
summary(model_diet_3)
